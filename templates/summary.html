{% extends "base.html" %}

{% block title %}Summary - {{ player[0] }} - Game Week {{ game_week }}{% endblock %}

{% block content %}
<a href="{{ url_for('home') }}" class="back-link">‚Üê Back to Home</a>

<div class="card">
    <h2 style="margin-bottom: 20px; color: #38003c; text-align: center;">
        ‚úÖ Predictions Submitted Successfully!
    </h2>
    
    <div style="background: #d4edda; padding: 20px; border-radius: 10px; margin-bottom: 20px; text-align: center;">
        <h3 style="color: #155724; margin-bottom: 10px;">
            {{ player[0] }}'s Predictions for Game Week {{ game_week }}
        </h3>
        <p style="color: #155724;">Your predictions have been saved. You can still change them until 5 minutes before each match starts.</p>
    </div>

    {% if predictions %}
    <div class="predictions-summary">
        {% for match_prediction in predictions %}
        <div class="match-card">
            <div class="match-info">
                <div class="match-teams">
                    {{ match_prediction[0] }} vs {{ match_prediction[1] }}
                </div>
                <div class="match-date">
                    {% if match_prediction[2] %}
                        {{ match_prediction[2][:16] }} UTC
                    {% else %}
                        TBD
                    {% endif %}
                </div>
            </div>
            
            <div class="prediction-result">
                {% if match_prediction[3] == 'HOME' %}
                    <span style="background: #28a745; color: white; padding: 8px 16px; border-radius: 20px; font-weight: 600;">
                        üè† {{ match_prediction[0] }} Win
                    </span>
                {% elif match_prediction[3] == 'AWAY' %}
                    <span style="background: #dc3545; color: white; padding: 8px 16px; border-radius: 20px; font-weight: 600;">
                        ‚úàÔ∏è {{ match_prediction[1] }} Win
                    </span>
                {% elif match_prediction[3] == 'DRAW' %}
                    <span style="background: #ffc107; color: black; padding: 8px 16px; border-radius: 20px; font-weight: 600;">
                        ü§ù Draw
                    </span>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div style="text-align: center; padding: 40px; color: #666;">
        <h3>No predictions found</h3>
        <p>It seems like no predictions were submitted.</p>
    </div>
    {% endif %}

    <div style="text-align: center; margin-top: 30px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
        <a href="{{ url_for('home') }}" class="btn">
            üè† Make New Predictions
        </a>
    </div>
</div>

<div class="card">
    <h3 style="color: #38003c; margin-bottom: 15px;">üìã Next Steps</h3>
    <ul style="line-height: 1.8; color: #666;">
        <li>‚úÖ Your predictions are saved and will be compared against actual results</li>
        <li>üîÑ You can still modify predictions until 5 minutes before kickoff</li>
        <li>üìä Check back after the matches to see your points</li>
        <li>üèÜ View leaderboards to see how you compare with other players</li>
        <li>‚öΩ Don't forget to make predictions for other game weeks!</li>
    </ul>
</div>

<script>
// Add some celebration animation
document.addEventListener('DOMContentLoaded', function() {
    const successCard = document.querySelector('.card:first-child h2');
    if (successCard) {
        successCard.style.animation = 'bounce 0.6s ease-in-out';
    }
});

// Add CSS animation
const style = document.createElement('style');
style.textContent = `
    @keyframes bounce {
        0%, 20%, 60%, 100% { transform: translateY(0); }
        40% { transform: translateY(-10px); }
        80% { transform: translateY(-5px); }
    }
`;
document.head.appendChild(style);
</script>
{% endblock %}